<!DOCTYPE html>
<html>

<head th:insert="./_inc/title.html">
    
</head>

<body>  
	<header th:insert="./_inc/header.html">
      
	</header>
    <div align="center">
		<form id="frm" name="writeform" method="post" action="/add", enctype="multipart/form-data">
	        <table class="table table-striped table-hover" >
	            <tbody align="center">
					<tr>
	                    <td width="150" align="center">유형</td>
	                    <td>
	                        <input class="form-check-input" type="radio" value="S" name="buyornot" id="buy1">
	                        <label class="form-check-label" for="buy1">
								판매
							</label>                        
	                        <input class="form-check-input" type="radio" value="B" name="buyornot" id="buy2">
	                        <label class="form-check-label" for="buy2">
								구매
							</label>   
	                    </td>
	                </tr>
	                <tr>
	                    <td width="150" align="center">가격</td>
	                    <td>
	                        <input type="text" class="form-control" name="price" id="price">
	                    </td>
	                </tr>
	                <tr>
	                    <td width="150" align="center">제목</td>
	                    <td>
	                        <input type="text" class="form-control" name="title" id="title">
	                    </td>
	                </tr>
	                <tr>
	                    <td width="150" align="center">내용</td>
	                    <td>
							<textarea class="form-control" name="content" id="content" aria-label="With textarea"></textarea>
	                    </td>
	                </tr>
					<tr>
	                    <td width="150" align="center">사진첨부</td>
	                    <td>
							<input type="file" name="file" class="form-control" id="inputGroupFile02">
	                    </td>
	                </tr>
					<tr id="tr_btn">
	                    <td colspan="2" align="center">
	                        <input type="button" onclick="fn_submit()" class="btn btn-success" value="작성하기">
	                        <input type="button" onClick="location.href='/list'" class="btn btn-secondary" value="목록보기">
	                    </td>
	                    <input type="hidden" name="finornot" value="N">
	                    <input type="hidden" name="writer" th:value="${user.username}">
	                </tr>
	                <!--inner html은 대괄호 2개를 써야함 -->
	            </tbody>
	        </table>
        </form>
    </div>
    <script>
		function fn_submit(){
			if(writeform.buyornot.value!="S" && writeform.buyornot.value!="B"){
				alert("유형을 선택해주세요.");
				writeform.buyornot.focus();
				return false;
			}
			if(writeform.price.value==""){
				alert("가격을 입력해주세요.");
				writeform.price.focus();
				return false;
			}
			var reg=/^[0-9]+/g;
			if(!reg.test(writeform.price.value)){
				alert("가격에 숫자만 입력해주세요");
				writeform.price.focus();
				return false;
			}
			if(writeform.title.value==""){
				alert("제목을 입력해주세요.");
				writeform.title.focus();
				return false;
			}
			if(writeform.content.value==""){
				alert("내용을 입력해주세요.");
				writeform.content.focus();
				return false;
			} else{
				writeform.submit();
			}
		}
		
		
	</script>
</body>
</html>